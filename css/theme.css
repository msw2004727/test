/* css/theme.css */
:root {
    /* Dark Theme (Default) */
    --bg-primary-dark: #0d1117;
    --bg-panel-dark: #161b22;
    --bg-slot-dark: #010409;
    --border-color-dark: #30363d;
    --text-primary-dark: #c9d1d9;
    --text-secondary-dark: #8b949e;
    --accent-color-dark: #58a6ff;
    --accent-hover-dark: #79c0ff;
    --success-color-dark: #3fb950;
    --danger-color-dark: #f85149;
    --danger-hover-dark: #da3633;
    --warning-color-dark: #d29922;
    --button-text-dark: #c9d1d9;
    --button-primary-bg-dark: var(--accent-color-dark);
    --button-primary-hover-bg-dark: var(--accent-hover-dark);
    --button-primary-text-dark: #ffffff;

    --button-secondary-bg-dark: #21262d;
    --button-secondary-hover-bg-dark: #30363d;
    --button-secondary-text-dark: var(--text-primary-dark);

    --button-danger-bg-dark: var(--danger-color-dark);
    --button-danger-hover-bg-dark: var(--danger-hover-dark);
    --button-danger-text-dark: #ffffff;

    --button-success-bg-dark: var(--success-color-dark);
    --button-success-hover-bg-dark: color-mix(in srgb, var(--success-color-dark) 85%, black);
    --button-success-text-dark: #ffffff;

    --button-warning-bg-dark: var(--warning-color-dark);
    --button-warning-hover-bg-dark: color-mix(in srgb, var(--warning-color-dark) 85%, black);
    --button-warning-text-dark: #ffffff;


    /* Element Colors (Text & Background) Dark Theme */
    --element-fire-text-dark: #f97583;       --element-fire-bg-dark: rgba(249, 117, 131, 0.15);
    --element-water-text-dark: #79c0ff;      --element-water-bg-dark: rgba(121, 192, 255, 0.15);
    --element-wood-text-dark: #56d364;       --element-wood-bg-dark: rgba(86, 211, 100, 0.15);
    --element-gold-text-dark: #e3b341;       --element-gold-bg-dark: rgba(227, 179, 65, 0.2);
    --element-earth-text-dark: #b08860;      --element-earth-bg-dark: rgba(176, 136, 96, 0.15);
    --element-light-text-dark: #f0f6fc;      --element-light-bg-dark: rgba(200, 200, 210, 0.2);
    --element-dark-text-dark: #848d97;       --element-dark-bg-dark: rgba(132, 141, 151, 0.15);
    --element-poison-text-dark: #d87ff8;     --element-poison-bg-dark: rgba(216, 127, 248, 0.15);
    --element-wind-text-dark: #6ef0db;       --element-wind-bg-dark: rgba(110, 240, 219, 0.15);
    --element-mix-text-dark: #a0a0c0;        --element-mix-bg-dark: rgba(160, 160, 192, 0.15);
    --element-無-text-dark: var(--text-secondary-dark); --element-無-bg-dark: rgba(139, 148, 158, 0.1);


    /* Rarity Colors (Text) Dark Theme */
    --rarity-common-text-dark: var(--text-primary-dark);     /* #c9d1d9 */
    --rarity-rare-text-dark: var(--accent-color-dark);       /* #58a6ff */
    --rarity-elite-text-dark: #ff704d;                       /* orangey-red */
    --rarity-legendary-text-dark: var(--element-gold-text-dark); /* #e3b341 */
    --rarity-mythical-text-dark: var(--element-poison-text-dark);/* #d87ff8 */

    /* NEW: Rarity RGB values for background opacity (Dark Theme) */
    --rarity-common-rgb-dark: 201, 209, 217; /* from --text-primary-dark */
    --rarity-rare-rgb-dark: 88, 166, 255;    /* from --accent-color-dark */
    --rarity-elite-rgb-dark: 255, 112, 77;   /* from --rarity-elite-text-dark */
    --rarity-legendary-rgb-dark: 227, 179, 65;/* from --element-gold-text-dark */
    --rarity-mythical-rgb-dark: 216, 127, 248;/* from --element-poison-text-dark */
    --default-rgb-dark: 139, 148, 158;      /* from --text-secondary-dark for a neutral default */


    /* Light Theme */
    --bg-primary-light: #ffffff;
    --bg-panel-light: #f6f8fa;
    --bg-slot-light: #eaeef2;
    --border-color-light: #d0d7de;
    --text-primary-light: #1f2328;
    --text-secondary-light: #57606a;
    --accent-color-light: #0969da;
    --accent-hover-light: #0550ae;
    --success-color-light: #1a7f37;
    --danger-color-light: #cf222e;
    --danger-hover-light: #a40e26;
    --warning-color-light: #9a6700;
    --button-text-light: #24292f;
    --button-primary-bg-light: var(--accent-color-light);
    --button-primary-hover-bg-light: var(--accent-hover-light);
    --button-primary-text-light: #ffffff;

    --button-secondary-bg-light: #f0f2f5;
    --button-secondary-hover-bg-light: #e1e4e8;
    --button-secondary-text-light: var(--text-primary-light);

    --button-danger-bg-light: var(--danger-color-light);
    --button-danger-hover-bg-light: var(--danger-hover-light);
    --button-danger-text-light: #ffffff;

    --button-success-bg-light: var(--success-color-light);
    --button-success-hover-bg-light: color-mix(in srgb, var(--success-color-light) 85%, black);
    --button-success-text-light: #ffffff;

    --button-warning-bg-light: var(--warning-color-light);
    --button-warning-hover-bg-light: color-mix(in srgb, var(--warning-color-light) 85%, black);
    --button-warning-text-light: #ffffff;


    /* Element Colors (Text & Background) Light Theme */
    --element-fire-text-light: #c0392b;       --element-fire-bg-light: rgba(192, 57, 43, 0.1);
    --element-water-text-light: #2980b9;      --element-water-bg-light: rgba(41, 128, 185, 0.1);
    --element-wood-text-light: #1e8449;       --element-wood-bg-light: rgba(30, 132, 73, 0.1);
    --element-gold-text-light: #b08800;       --element-gold-bg-light: rgba(176, 136, 0, 0.15);
    --element-earth-text-light: #a15c38;      --element-earth-bg-light: rgba(161, 92, 56, 0.1);
    --element-light-text-light: #525252;      --element-light-bg-light: rgba(230, 230, 230, 0.5);
    --element-dark-text-light: #32383e;       --element-dark-bg-light: rgba(50, 56, 62, 0.1);
    --element-poison-text-light: #732d91;     --element-poison-bg-light: rgba(115, 45, 145, 0.1);
    --element-wind-text-light: #16a085;       --element-wind-bg-light: rgba(22, 160, 133, 0.1);
    --element-mix-text-light: #57606a;        --element-mix-bg-light: rgba(87, 96, 106, 0.1);
    --element-無-text-light: var(--text-secondary-light); --element-無-bg-light: rgba(200, 200, 200, 0.1);


    /* Rarity Colors (Text) Light Theme */
    --rarity-common-text-light: var(--text-primary-light);    /* #1f2328 */
    --rarity-rare-text-light: var(--accent-color-light);      /* #0969da */
    --rarity-elite-text-light: #d32f2f;                       /* red */
    --rarity-legendary-text-light: var(--element-gold-text-light); /* #b08800 */
    --rarity-mythical-text-light: var(--element-poison-text-light);/* #732d91 */

    /* NEW: Rarity RGB values for background opacity (Light Theme) */
    --rarity-common-rgb-light: 108, 117, 125; /* A mid-gray, as text is dark */
    --rarity-rare-rgb-light: 9, 105, 218;     /* from --accent-color-light */
    --rarity-elite-rgb-light: 211, 47, 47;    /* from --rarity-elite-text-light */
    --rarity-legendary-rgb-light: 176, 136, 0;/* from --element-gold-text-light */
    --rarity-mythical-rgb-light: 115, 45, 145;/* from --element-poison-text-light */
    --default-rgb-light: 173, 181, 189;     /* A lighter gray for default background on light theme */


    /* Applied Theme Variables (Defaults to Dark Theme) */
    --bg-primary: var(--bg-primary-dark);
    --bg-panel: var(--bg-panel-dark);
    --bg-slot: var(--bg-slot-dark);
    --border-color: var(--border-color-dark);
    --text-primary: var(--text-primary-dark);
    --text-secondary: var(--text-secondary-dark);
    --accent-color: var(--accent-color-dark);
    --accent-hover: var(--accent-hover-dark);
    --success-color: var(--success-color-dark);
    --danger-color: var(--danger-color-dark);
    --danger-hover: var(--danger-hover-dark);
    --warning-color: var(--warning-color-dark);

    --button-text: var(--button-text-dark);
    --button-primary-bg: var(--button-primary-bg-dark);
    --button-primary-hover-bg: var(--button-primary-hover-bg-dark);
    --button-primary-text: var(--button-primary-text-dark);

    --button-secondary-bg: var(--button-secondary-bg-dark);
    --button-secondary-hover-bg: var(--button-secondary-hover-bg-dark);
    --button-secondary-text: var(--button-secondary-text-dark);

    --button-danger-bg: var(--button-danger-bg-dark);
    --button-danger-hover-bg: var(--button-danger-hover-bg-dark);
    --button-danger-text: var(--button-danger-text-dark);

    --button-success-bg: var(--button-success-bg-dark);
    --button-success-hover-bg: var(--button-success-hover-bg-dark);
    --button-success-text: var(--button-success-text-dark);

    --button-warning-bg: var(--button-warning-bg-dark);
    --button-warning-hover-bg: var(--button-warning-hover-bg-dark);
    --button-warning-text: var(--button-warning-text-dark);

    /* Applied Element Colors */
    --element-fire-text: var(--element-fire-text-dark);       --element-fire-bg: var(--element-fire-bg-dark);
    --element-water-text: var(--element-water-text-dark);      --element-water-bg: var(--element-water-bg-dark);
    --element-wood-text: var(--element-wood-text-dark);       --element-wood-bg: var(--element-wood-bg-dark);
    --element-gold-text: var(--element-gold-text-dark);       --element-gold-bg: var(--element-gold-bg-dark);
    --element-earth-text: var(--element-earth-text-dark);      --element-earth-bg: var(--element-earth-bg-dark);
    --element-light-text: var(--element-light-text-dark);      --element-light-bg: var(--element-light-bg-dark);
    --element-dark-text: var(--element-dark-text-dark);       --element-dark-bg: var(--element-dark-bg-dark);
    --element-poison-text: var(--element-poison-text-dark);     --element-poison-bg: var(--element-poison-bg-dark);
    --element-wind-text: var(--element-wind-text-dark);       --element-wind-bg: var(--element-wind-bg-dark);
    --element-mix-text: var(--element-mix-text-dark);        --element-mix-bg: var(--element-mix-bg-dark);
    --element-無-text: var(--element-無-text-dark); --element-無-bg: var(--element-無-bg-dark);


    /* Applied Rarity Colors (Text & RGB for background) */
    --rarity-common-text: var(--rarity-common-text-dark);
    --rarity-rare-text: var(--rarity-rare-text-dark);
    --rarity-elite-text: var(--rarity-elite-text-dark);
    --rarity-legendary-text: var(--rarity-legendary-text-dark);
    --rarity-mythical-text: var(--rarity-mythical-text-dark);

    --rarity-common-rgb: var(--rarity-common-rgb-dark);
    --rarity-rare-rgb: var(--rarity-rare-rgb-dark);
    --rarity-elite-rgb: var(--rarity-elite-rgb-dark);
    --rarity-legendary-rgb: var(--rarity-legendary-rgb-dark);
    --rarity-mythical-rgb: var(--rarity-mythical-rgb-dark);
    --default-rgb: var(--default-rgb-dark); /* Applied default RGB */
}

body.light-theme {
    --bg-primary: var(--bg-primary-light);
    --bg-panel: var(--bg-panel-light);
    --bg-slot: var(--bg-slot-light);
    --border-color: var(--border-color-light);
    --text-primary: var(--text-primary-light);
    --text-secondary: var(--text-secondary-light);
    --accent-color: var(--accent-color-light);
    --accent-hover: var(--accent-hover-light);
    --success-color: var(--success-color-light);
    --danger-color: var(--danger-color-light);
    --danger-hover: var(--danger-hover-light);
    --warning-color: var(--warning-color-light);

    --button-text: var(--button-text-light);
    --button-primary-bg: var(--button-primary-bg-light);
    --button-primary-hover-bg: var(--button-primary-hover-bg-light);
    --button-primary-text: var(--button-primary-text-light);

    --button-secondary-bg: var(--button-secondary-bg-light);
    --button-secondary-hover-bg: var(--button-secondary-hover-bg-light);
    --button-secondary-text: var(--button-secondary-text-light);

    --button-danger-bg: var(--button-danger-bg-light);
    --button-danger-hover-bg: var(--button-danger-hover-bg-light);
    --button-danger-text: var(--button-danger-text-light);

    --button-success-bg: var(--button-success-bg-light);
    --button-success-hover-bg: var(--button-success-hover-bg-light);
    --button-success-text: var(--button-success-text-light);

    --button-warning-bg: var(--button-warning-bg-light);
    --button-warning-hover-bg: var(--button-warning-hover-bg-light);
    --button-warning-text: var(--button-warning-text-light);

    /* Applied Element Colors - Light Theme */
    --element-fire-text: var(--element-fire-text-light);       --element-fire-bg: var(--element-fire-bg-light);
    --element-water-text: var(--element-water-text-light);      --element-water-bg: var(--element-water-bg-light);
    --element-wood-text: var(--element-wood-text-light);       --element-wood-bg: var(--element-wood-bg-light);
    --element-gold-text: var(--element-gold-text-light);       --element-gold-bg: var(--element-gold-bg-light);
    --element-earth-text: var(--element-earth-text-light);      --element-earth-bg: var(--element-earth-bg-light);
    --element-light-text: var(--element-light-text-light);      --element-light-bg: var(--element-light-bg-light);
    --element-dark-text: var(--element-dark-text-light);       --element-dark-bg: var(--element-dark-bg-light);
    --element-poison-text: var(--element-poison-text-light);     --element-poison-bg: var(--element-poison-bg-light);
    --element-wind-text: var(--element-wind-text-light);       --element-wind-bg: var(--element-wind-bg-light);
    --element-mix-text: var(--element-mix-text-light);        --element-mix-bg: var(--element-mix-bg-light);
    --element-無-text: var(--element-無-text-light); --element-無-bg: var(--element-無-bg-light);


    /* Applied Rarity Colors - Light Theme (Text & RGB for background) */
    --rarity-common-text: var(--rarity-common-text-light);
    --rarity-rare-text: var(--rarity-rare-text-light);
    --rarity-elite-text: var(--rarity-elite-text-light);
    --rarity-legendary-text: var(--rarity-legendary-text-light);
    --rarity-mythical-text: var(--rarity-mythical-text-light);

    --rarity-common-rgb: var(--rarity-common-rgb-light);
    --rarity-rare-rgb: var(--rarity-rare-rgb-light);
    --rarity-elite-rgb: var(--rarity-elite-rgb-light);
    --rarity-legendary-rgb: var(--rarity-legendary-rgb-light);
    --rarity-mythical-rgb: var(--rarity-mythical-rgb-light);
    --default-rgb: var(--default-rgb-light); /* Applied default RGB for light theme */
}

/* Helper classes for element text colors (Increased Specificity) */
.leaderboard-table .text-element-fire, .tab-button.text-element-fire { color: var(--element-fire-text); }
.leaderboard-table .text-element-water, .tab-button.text-element-water { color: var(--element-water-text); }
.leaderboard-table .text-element-wood, .tab-button.text-element-wood { color: var(--element-wood-text); }
.leaderboard-table .text-element-gold, .tab-button.text-element-gold { color: var(--element-gold-text); }
.leaderboard-table .text-element-earth, .tab-button.text-element-earth { color: var(--element-earth-text); }
.leaderboard-table .text-element-light, .tab-button.text-element-light { color: var(--element-light-text); }
.leaderboard-table .text-element-dark, .tab-button.text-element-dark { color: var(--element-dark-text); }
.leaderboard-table .text-element-poison, .tab-button.text-element-poison { color: var(--element-poison-text); }
.leaderboard-table .text-element-wind, .tab-button.text-element-wind { color: var(--element-wind-text); }
.leaderboard-table .text-element-mix, .tab-button.text-element-mix { color: var(--element-mix-text); }
.leaderboard-table .text-element-無, .tab-button.text-element-無 { color: var(--element-無-text); }

/* Generic Element Color Helpers */
.text-element-fire { color: var(--element-fire-text) !important; }
.text-element-water { color: var(--element-water-text) !important; }
.text-element-wood { color: var(--element-wood-text) !important; }
.text-element-gold { color: var(--element-gold-text) !important; }
.text-element-earth { color: var(--element-earth-text) !important; }
.text-element-light { color: var(--element-light-text) !important; }
.text-element-dark { color: var(--element-dark-text) !important; }
.text-element-poison { color: var(--element-poison-text) !important; }
.text-element-wind { color: var(--element-wind-text) !important; }
.text-element-mix { color: var(--element-mix-text) !important; }
.text-element-無 { color: var(--element-無-text) !important; }


/* Helper classes for rarity text colors */
.text-rarity-common { color: var(--rarity-common-text); }
.text-rarity-rare { color: var(--rarity-rare-text); }
.text-rarity-elite { color: var(--rarity-elite-text); }
.text-rarity-legendary { color: var(--rarity-legendary-text); }
.text-rarity-mythical { color: var(--rarity-mythical-text); }

/* Global body styles */
body {
    font-family: 'Noto Sans TC', 'Inter', sans-serif;
    background-color: var(--bg-primary);
    color: var(--text-primary);
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
    padding: 10px; 
    box-sizing: border-box;
    transition: background-color 0.3s, color 0.3s;
    font-size: 1rem; 
}

/* Loading Spinner Animation */
@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Scrolling Hints Animation */
@keyframes scrollHint {
    0% { opacity: 0; transform: translateY(100%); }
    10%, 23% { opacity: 1; transform: translateY(0); }
    33% { opacity: 0; transform: translateY(-100%); }
    100% { opacity: 0; transform: translateY(-100%); }
}

/* --- Font Size Unification Override --- */
/* Overrides Tailwind's text size utilities to enforce a single base size as requested. */
.text-base,
.text-lg,
.text-xl,
.text-2xl,
.text-3xl,
.text-4xl,
.text-5xl {
    font-size: 1rem !important;
}
